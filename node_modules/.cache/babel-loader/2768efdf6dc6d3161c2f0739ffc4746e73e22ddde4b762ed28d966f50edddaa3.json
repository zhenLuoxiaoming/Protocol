{"ast":null,"code":"// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\nvar _createNamespace = createNamespace('toast'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n        type = this.type,\n        iconPrefix = this.iconPrefix,\n        loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n        message = this.message;\n      if (!isDef(message) || message === '') {\n        return;\n      }\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});","map":{"version":3,"names":["createNamespace","isDef","lockClick","PopupMixin","Icon","Loading","_createNamespace","createComponent","bem","mixins","props","icon","String","className","iconPrefix","loadingType","forbidClick","Boolean","closeOnClick","message","Number","type","default","position","transition","lockScroll","data","clickable","mounted","toggleClickable","destroyed","watch","value","methods","onClick","close","onAfterEnter","$emit","onOpened","onAfterLeave","genIcon","h","$createElement","hasIcon","genMessage","render","_ref","arguments","name"],"sources":["/Users/luoxiaoming/Desktop/test-html/node_modules/vant/es/toast/Toast.js"],"sourcesContent":["// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n          type = this.type,\n          iconPrefix = this.iconPrefix,\n          loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n          message = this.message;\n\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}