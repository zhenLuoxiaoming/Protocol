{"ast":null,"code":"import { createNamespace } from '../utils';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { ParentMixin } from '../mixins/relation';\nvar _createNamespace = createNamespace('tabbar'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nexport default createComponent({\n  mixins: [ParentMixin('vanTabbar')],\n  props: {\n    route: Boolean,\n    zIndex: [Number, String],\n    placeholder: Boolean,\n    activeColor: String,\n    beforeChange: Function,\n    inactiveColor: String,\n    value: {\n      type: [Number, String],\n      default: 0\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      height: null\n    };\n  },\n  computed: {\n    fit: function fit() {\n      if (this.safeAreaInsetBottom !== null) {\n        return this.safeAreaInsetBottom;\n      } // enable safe-area-inset-bottom by default when fixed\n\n      return this.fixed;\n    }\n  },\n  watch: {\n    value: 'setActiveItem',\n    children: 'setActiveItem'\n  },\n  mounted: function mounted() {\n    var _this = this;\n    if (this.placeholder && this.fixed) {\n      var setHeight = function setHeight() {\n        _this.height = _this.$refs.tabbar.getBoundingClientRect().height;\n      };\n      setHeight(); // https://github.com/vant-ui/vant/issues/10131\n\n      setTimeout(setHeight, 100);\n    }\n  },\n  methods: {\n    setActiveItem: function setActiveItem() {\n      var _this2 = this;\n      this.children.forEach(function (item, index) {\n        item.nameMatched = item.name === _this2.value || index === _this2.value;\n      });\n    },\n    triggerChange: function triggerChange(active, afterChange) {\n      var _this3 = this;\n      callInterceptor({\n        interceptor: this.beforeChange,\n        args: [active],\n        done: function done() {\n          _this3.$emit('input', active);\n          _this3.$emit('change', active);\n          afterChange();\n        }\n      });\n    },\n    genTabbar: function genTabbar() {\n      var _ref;\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"ref\": \"tabbar\",\n        \"style\": {\n          zIndex: this.zIndex\n        },\n        \"class\": [(_ref = {}, _ref[BORDER_TOP_BOTTOM] = this.border, _ref), bem({\n          unfit: !this.fit,\n          fixed: this.fixed\n        })]\n      }, [this.slots()]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    if (this.placeholder && this.fixed) {\n      return h(\"div\", {\n        \"class\": bem('placeholder'),\n        \"style\": {\n          height: this.height + \"px\"\n        }\n      }, [this.genTabbar()]);\n    }\n    return this.genTabbar();\n  }\n});","map":{"version":3,"names":["createNamespace","BORDER_TOP_BOTTOM","callInterceptor","ParentMixin","_createNamespace","createComponent","bem","mixins","props","route","Boolean","zIndex","Number","String","placeholder","activeColor","beforeChange","Function","inactiveColor","value","type","default","border","fixed","safeAreaInsetBottom","data","height","computed","fit","watch","children","mounted","_this","setHeight","$refs","tabbar","getBoundingClientRect","setTimeout","methods","setActiveItem","_this2","forEach","item","index","nameMatched","name","triggerChange","active","afterChange","_this3","interceptor","args","done","$emit","genTabbar","_ref","h","$createElement","unfit","slots","render","arguments"],"sources":["/Users/luoxiaoming/Desktop/test-html/node_modules/vant/es/tabbar/index.js"],"sourcesContent":["import { createNamespace } from '../utils';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('tabbar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanTabbar')],\n  props: {\n    route: Boolean,\n    zIndex: [Number, String],\n    placeholder: Boolean,\n    activeColor: String,\n    beforeChange: Function,\n    inactiveColor: String,\n    value: {\n      type: [Number, String],\n      default: 0\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      height: null\n    };\n  },\n  computed: {\n    fit: function fit() {\n      if (this.safeAreaInsetBottom !== null) {\n        return this.safeAreaInsetBottom;\n      } // enable safe-area-inset-bottom by default when fixed\n\n\n      return this.fixed;\n    }\n  },\n  watch: {\n    value: 'setActiveItem',\n    children: 'setActiveItem'\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.placeholder && this.fixed) {\n      var setHeight = function setHeight() {\n        _this.height = _this.$refs.tabbar.getBoundingClientRect().height;\n      };\n\n      setHeight(); // https://github.com/vant-ui/vant/issues/10131\n\n      setTimeout(setHeight, 100);\n    }\n  },\n  methods: {\n    setActiveItem: function setActiveItem() {\n      var _this2 = this;\n\n      this.children.forEach(function (item, index) {\n        item.nameMatched = item.name === _this2.value || index === _this2.value;\n      });\n    },\n    triggerChange: function triggerChange(active, afterChange) {\n      var _this3 = this;\n\n      callInterceptor({\n        interceptor: this.beforeChange,\n        args: [active],\n        done: function done() {\n          _this3.$emit('input', active);\n\n          _this3.$emit('change', active);\n\n          afterChange();\n        }\n      });\n    },\n    genTabbar: function genTabbar() {\n      var _ref;\n\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"ref\": \"tabbar\",\n        \"style\": {\n          zIndex: this.zIndex\n        },\n        \"class\": [(_ref = {}, _ref[BORDER_TOP_BOTTOM] = this.border, _ref), bem({\n          unfit: !this.fit,\n          fixed: this.fixed\n        })]\n      }, [this.slots()]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (this.placeholder && this.fixed) {\n      return h(\"div\", {\n        \"class\": bem('placeholder'),\n        \"style\": {\n          height: this.height + \"px\"\n        }\n      }, [this.genTabbar()]);\n    }\n\n    return this.genTabbar();\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}